from flask import Flask, request, jsonify from youtube_transcript_api import YouTubeTranscriptApi from deep_translator import GoogleTranslator import re app = Flask(__name__) def extract_video_id(url): match = re.search(r"(?:v=|\/shorts\/)([a-zA-Z0-9_-]+)", url) return match.group(1) if match else None @app.route("/generate", methods=["POST"]) def generate(): data = request.json url = data["url"] video_id = extract_video_id(url) transcript = YouTubeTranscriptApi.get_transcript(video_id) text = " ".join([t["text"] for t in transcript]) burmese = GoogleTranslator(source='auto', target='my').translate(text) return jsonify({ "original": text, "burmese": burmese }) if __name__ == "__main__": app.run()
